(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{wQq9:function(t,e,o){"use strict";o.r(e),o.d(e,"NotificationModule",(function(){return N}));var n=o("ofXK"),r=o("3Pt+"),a=o("tyNb"),i=o("fXoL"),c=o("bh5J");let b=(()=>{class t{constructor(){}getRoomData(t,e,o){this.roomid=t,this.roomcharges=e,this.roomNumber=o,console.log("this is id in service",this.roomid)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function s(t,e){if(1&t&&(i.Pb(0,"i",15),i.rc(1),i.Ob()),2&t){const t=i.bc().$implicit;i.Bb(1),i.tc("*Note : this room is available till ",t.startDate,"")}}function d(t,e){if(1&t){const t=i.Qb();i.Pb(0,"div",2),i.Pb(1,"div",3),i.Pb(2,"div",4),i.Pb(3,"div",5),i.Nb(4,"img",6),i.Ob(),i.Ob(),i.Pb(5,"div",7),i.Pb(6,"div",8),i.Pb(7,"p",9),i.Pb(8,"label",10),i.Pb(9,"b"),i.rc(10,"Room No:"),i.Ob(),i.Ob(),i.rc(11),i.Ob(),i.qc(12,s,2,1,"i",11),i.Pb(13,"label",10),i.Pb(14,"b",12),i.rc(15,"Description:"),i.Ob(),i.Ob(),i.Pb(16,"p",13),i.rc(17),i.Ob(),i.Pb(18,"p",13),i.Pb(19,"label",10),i.Pb(20,"b"),i.rc(21,"Charges : "),i.Ob(),i.Ob(),i.rc(22),i.Ob(),i.Pb(23,"p",13),i.Pb(24,"label",10),i.Pb(25,"b"),i.rc(26,"Type:"),i.Ob(),i.Ob(),i.rc(27),i.Pb(28,"a",14),i.Xb("click",(function(){i.lc(t);const o=e.$implicit;return i.bc().getRoomDetails(o._id,o.charges,o.roomNumber)})),i.rc(29,"Book Now"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()}if(2&t){const t=e.$implicit;i.Bb(4),i.hc("src",t.image,i.mc),i.Bb(7),i.tc(" ",t.roomNumber,""),i.Bb(1),i.gc("ngIf","null"!=t.startDate),i.Bb(5),i.sc(t.description),i.Bb(5),i.sc(t.charges),i.Bb(5),i.tc(" \xa0\xa0",t.Type," ")}}let l=(()=>{class t{constructor(t,e,o){this.router=t,this.getroom=e,this.roomdata=o,this.room=[]}ngOnInit(){this.getroom.getRooms(),this.SubRoom=this.getroom.getRoomUpdateListner().subscribe(t=>{this.room=t}),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}getRoomDetails(t,e,o){this.roomdata.getRoomData(t,e,o)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(a.a),i.Mb(c.a),i.Mb(b))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-notification"]],decls:3,vars:1,consts:[[1,"row",2,"padding-top","2%","padding-left","2%","padding-right","2%"],["class","card col-lg-12 Card ",4,"ngFor","ngForOf"],[1,"card","col-lg-12","Card"],[1,"row","g-0"],[1,"col-md-4"],[1,"container",2,"height","200px","width","200px","margin-left","0px"],["alt","...",1,"card-image",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title",2,"font-size","medium"],["for",""],["style","color: red;",4,"ngIf"],[2,"font-size","medium"],[1,"card-text",2,"font-size","medium"],["routerLink","./bookroom",1,"btn","btn-danger",2,"position","absolute","bottom","8px","right","8px",3,"click"],[2,"color","red"]],template:function(t,e){1&t&&(i.Nb(0,"router-outlet"),i.Pb(1,"div",0),i.qc(2,d,30,6,"div",1),i.Ob()),2&t&&(i.Bb(2),i.gc("ngForOf",e.room))},directives:[a.d,n.j,n.k,a.b],styles:[".Card[_ngcontent-%COMP%]{margin-bottom:1%;box-shadow:5px 5px 10px rgba(0,0,0,.3)}.card-image[_ngcontent-%COMP%]{height:100%;width:150%}.container[_ngcontent-%COMP%]{color:navy;height:10%;width:10%}"]}),t})();var m=o("PSD3"),h=o.n(m),u=o("tk/3");let g=(()=>{class t{constructor(t){this.http=t,this.status="False"}bookRoom(t,e,o,n,r,a,i,c,b,s){return this.http.post("https://roomservers.herokuapp.com/bookroom",{Name:t,Phone:e,documentName:o,documentNumber:n,startDate:r,endDate:a,Amount:i,roomid:c,roomNumber:b,status:s})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(u.b))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p(t,e){1&t&&i.Nb(0,"input",17)}function f(t,e){1&t&&i.Nb(0,"input",18)}function P(t,e){1&t&&i.Nb(0,"input",19)}function O(t,e){if(1&t&&(i.Pb(0,"div",2),i.Pb(1,"label",3),i.Pb(2,"b",4),i.rc(3,"Payable:"),i.Ob(),i.Ob(),i.rc(4,"\xa0\xa0\xa0 "),i.Pb(5,"h2"),i.rc(6),i.Ob(),i.Ob()),2&t){const t=i.bc();i.Bb(6),i.uc("",t.days," X ",t.roomcharges," = ",t.payable,"")}}const y=[{path:"",component:l},{path:"bookroom",component:(()=>{class t{constructor(t,e,o){this.roomdata=t,this.roombook=e,this.router=o}ngOnInit(){this.room_id=this.roomdata.roomid,this.roomcharges=this.roomdata.roomcharges,this.roomnumber=this.roomdata.roomNumber}setvalue(t){this.showcontent=t.target.value,console.log(this.showcontent)}getTotalDays(){this.date1=new Date(this.startdate),this.date2=new Date(this.enddate),this.total=(this.date2-this.date1)/864e5,this.days=Math.round(this.total),this.payable=this.days*this.roomcharges,console.log(this.days)}bookRoom(t){t.preventDefault(),this.Name=t.target.querySelector("#customerName").value,this.Phone=t.target.querySelector("#phone").value,this.startDate=t.target.querySelector("#startdate").value,this.endDate=t.target.querySelector("#enddate").value,console.log("this is the startDate before sending",this.startDate);let e=Object(n.o)(new Date,"yyyy-MM-dd","en_US"),o=Object(n.o)(this.startdate,"yyyy-MM-dd","en_US"),r=Object(n.o)(this.endDate,"yyyy-MM-dd","en_US");o<e?h.a.fire({title:"Error",text:"You cannot book room with past date",icon:"error",timer:1700}):(status=o>e?"pre-booked":"Booked",this.documentNumber="AdhaarCard"===this.showcontent?t.target.querySelector("#adhaarno").value:"PanCard"===this.showcontent?t.target.querySelector("#panno").value:t.target.querySelector("#dno").value,console.log("roomId before sending",this.room_id),this.roombook.bookRoom(this.Name,this.Phone,this.showcontent,this.documentNumber,o,r,this.payable,this.room_id,this.roomnumber,status).subscribe(t=>{h.a.fire("Booked","success"),console.log("this is Name before sending",this.roomnumber),console.log(t),this.router.navigateByUrl("Home/Notification")}))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(b),i.Mb(g),i.Mb(a.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-bookroom"]],inputs:{room:"room"},decls:52,vars:6,consts:[[1,"bookroom-container"],[3,"submit"],[1,"form-group"],["for",""],[2,"font-size","medium"],["type","text","name","customerName","id","customerName","placeholder","Enter Customer Name","required",""],["type","number","name","phone","id","phone","placeholder","Enter Phone No.","minlength","10","required",""],["type","radio","name","docname","id","docname","value","AdhaarCard",3,"change"],["type","radio","name","docname","id","docname","value","PanCard",3,"change"],["type","radio","name","docname","id","docname","value","DrivingLicence",3,"change"],["type","number","name","adhaarno","id","adhaarno","minlength","12","placeholder","Enter Adhaar no",4,"ngIf"],["type","text","name","panno","id","panno","minlength","10","placeholder","Enter Pan No",4,"ngIf"],["type","text","name","dno","id","dno","minlength","16","placeholder","Enter licence No",4,"ngIf"],["type","date","name","startdate","id","startdate","required","",3,"ngModel","ngModelChange"],["type","date","name","enddate","id","enddate","required","",3,"ngModel","ngModelChange","change"],["class","form-group",4,"ngIf"],[1,"btn","btn-danger",2,"position","absolute"],["type","number","name","adhaarno","id","adhaarno","minlength","12","placeholder","Enter Adhaar no"],["type","text","name","panno","id","panno","minlength","10","placeholder","Enter Pan No"],["type","text","name","dno","id","dno","minlength","16","placeholder","Enter licence No"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"form",1),i.Xb("submit",(function(t){return e.bookRoom(t)})),i.Pb(2,"div",2),i.Pb(3,"label",3),i.Pb(4,"b",4),i.rc(5,"Name"),i.Ob(),i.Ob(),i.rc(6,"\xa0\xa0\xa0 "),i.Nb(7,"input",5),i.Ob(),i.Pb(8,"div",2),i.Pb(9,"label",3),i.Pb(10,"b",4),i.rc(11,"Phone no."),i.Ob(),i.Ob(),i.rc(12,"\xa0\xa0\xa0 "),i.Nb(13,"input",6),i.Ob(),i.Pb(14,"div",2),i.Pb(15,"label",3),i.Pb(16,"b",4),i.rc(17,"Adhaar card"),i.Ob(),i.Ob(),i.rc(18,"\xa0\xa0\xa0 "),i.Pb(19,"input",7),i.Xb("change",(function(t){return e.setvalue(t)})),i.Ob(),i.rc(20,"\xa0\xa0\xa0 "),i.Pb(21,"label",3),i.Pb(22,"b",4),i.rc(23,"Pan card"),i.Ob(),i.Ob(),i.rc(24,"\xa0\xa0\xa0 "),i.Pb(25,"input",8),i.Xb("change",(function(t){return e.setvalue(t)})),i.Ob(),i.rc(26,"\xa0\xa0\xa0 "),i.Pb(27,"label",3),i.Pb(28,"b",4),i.rc(29,"Driving licence"),i.Ob(),i.Ob(),i.rc(30,"\xa0\xa0\xa0 "),i.Pb(31,"input",9),i.Xb("change",(function(t){return e.setvalue(t)})),i.Ob(),i.Ob(),i.Pb(32,"div",2),i.qc(33,p,1,0,"input",10),i.qc(34,f,1,0,"input",11),i.qc(35,P,1,0,"input",12),i.Ob(),i.Pb(36,"div",2),i.Pb(37,"label",3),i.Pb(38,"b",4),i.rc(39,"Start-Date"),i.Ob(),i.Ob(),i.rc(40,"\xa0\xa0\xa0 "),i.Pb(41,"input",13),i.Xb("ngModelChange",(function(t){return e.startdate=t})),i.Ob(),i.Ob(),i.Pb(42,"div",2),i.Pb(43,"label",3),i.Pb(44,"b",4),i.rc(45,"End-Date"),i.Ob(),i.Ob(),i.rc(46,"\xa0\xa0\xa0 "),i.Pb(47,"input",14),i.Xb("ngModelChange",(function(t){return e.enddate=t}))("change",(function(){return e.getTotalDays()})),i.Ob(),i.Ob(),i.qc(48,O,7,3,"div",15),i.Pb(49,"div",2),i.Pb(50,"button",16),i.rc(51,"Book"),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.Bb(33),i.gc("ngIf","AdhaarCard"===e.showcontent),i.Bb(1),i.gc("ngIf","PanCard"===e.showcontent),i.Bb(1),i.gc("ngIf","DrivingLicence"===e.showcontent),i.Bb(6),i.gc("ngModel",e.startdate),i.Bb(6),i.gc("ngModel",e.enddate),i.Bb(1),i.gc("ngIf",e.days))},directives:[r.m,r.g,r.h,n.k,r.a,r.k,r.f,r.i],styles:[".bookroom-container[_ngcontent-%COMP%]{padding:5%}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[a.c.forChild(y)],a.c]}),t})(),N=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[r.d,n.b,v]]}),t})()}}]);