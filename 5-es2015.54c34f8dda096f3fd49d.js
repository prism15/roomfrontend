(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{bh5J:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var o=r("XNiG"),n=r("fXoL"),c=r("tyNb"),i=r("tk/3");let a=(()=>{class t{constructor(t,e){this.router=t,this.http=e,this.room=[],this.roomUpdated=new o.a}getRooms(){return this.http.get("https://roomservers.herokuapp.com/Notification").subscribe(t=>{console.log("this is room",t),this.room=t.room,this.roomUpdated.next([...this.room])})}getRoomUpdateListner(){return this.roomUpdated.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(n.Tb(c.a),n.Tb(i.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"ct+p":function(t,e,r){"use strict";r.r(e),r.d(e,"HomeModule",(function(){return M}));var o=r("ofXK"),n=r("tyNb"),c=r("3Pt+"),i=r("PSD3"),a=r.n(i),b=r("fXoL"),s=r("tk/3");let l=(()=>{class t{constructor(t){this.http=t}Room(t,e,r,o,n){console.log("this is the selected file",n);const c=new FormData;return c.append("roomNumber",t),c.append("Type",e),c.append("description",r),c.append("charges",o),c.append("image",n,n.name),console.log("this is description in upload service",r),this.http.post("https://roomservers.herokuapp.com/addRoom",c)}}return t.\u0275fac=function(e){return new(e||t)(b.Tb(s.b))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function d(t,e){if(1&t&&b.Nb(0,"img",19),2&t){const t=b.bc(2);b.gc("src",t.imageURL,b.mc)}}function u(t,e){if(1&t){const t=b.Qb();b.Pb(0,"div",2),b.Pb(1,"input",16,17),b.Xb("change",(function(){b.lc(t);const e=b.kc(2);return b.bc().preview(e.files)}))("change",(function(e){return b.lc(t),b.bc().onImagePicked(e)})),b.Ob(),b.qc(3,d,1,1,"img",18),b.Ob()}if(2&t){const t=b.bc();b.Bb(3),b.gc("ngIf",t.imageURL)}}let m=(()=>{class t{constructor(t,e){this.upload=t,this.router=e,this.selectedFile=null,this.description=null,this.charges=null,this.addImg=!1}ngOnInit(){this.form=new c.c({description:new c.b(null,{validators:[c.l.required]}),charges:new c.b(null,{validators:[c.l.required]}),image:new c.b(null,{validators:[c.l.required]})})}imageInput(){this.addImg=!0}preview(t){if(0!==t.length)if(null!=t[0].type.match(/image\/*/)){var e=new FileReader;this.imagePath=t,e.readAsDataURL(t[0]),e.onload=t=>{this.imageURL=e.result}}else this.message="Only images are supported."}onImagePicked(t){t.preventDefault(),this.selectedFile=t.target.files[0]}getSelected(t){this.selected=t.target.value}addRoom(t){t.preventDefault(),this.roomNumber=t.target.querySelector("#roomnumber").value,this.description=t.target.querySelector("#description").value,this.charges=t.target.querySelector("#charges").value,console.log("this is room",this.Type),console.log("this is description from component",this.description),this.upload.Room(this.roomNumber,this.selected,this.description,this.charges,this.selectedFile).subscribe(t=>{a.a.fire({title:"Success",text:"Room added Successfullt",icon:"success",showConfirmButton:!1,timer:1100})}),this.router.navigateByUrl("Home/Notification")}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(l),b.Mb(n.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-addroom"]],decls:40,vars:1,consts:[[1,"room-container"],[3,"submit"],[1,"form-group"],["type","button",1,"btn","btn-primary",3,"click"],["class","form-group",4,"ngIf"],["for",""],[2,"font-size","medium"],["type","number","name","roomnumber","id","roomnumber"],["name","roomType",1,"form-group"],["type","radio","name","roomtype1","id","roomtype1","value","Luxory",3,"change"],["type","radio","name","roomtype1","id","roomtype1","value","Delux",3,"change"],["type","radio","name","roomtype1","id","roomtype2","value","SuperDelux",3,"change"],["name","description","id","description","placeholder","Enter Room description",1,"form-control",2,"width","700px","height","100px"],[1,"form-group","price"],["type","number","name","charges","id","charges","placeholder","Enter per day charges",1,"form-control"],["type","submit",1,"btn","btn-outline-danger","mt-1"],["type","file","enctype","multipart/form-data","name","image","id","image","accept",".png, .jpeg, .jpg",3,"change"],["file",""],["height","200","style","display: inline-block;",3,"src",4,"ngIf"],["height","200",2,"display","inline-block",3,"src"]],template:function(t,e){1&t&&(b.Pb(0,"div",0),b.Pb(1,"form",1),b.Xb("submit",(function(t){return e.addRoom(t)})),b.Pb(2,"div",2),b.Pb(3,"button",3),b.Xb("click",(function(){return e.imageInput()})),b.rc(4,"+ Add Image"),b.Ob(),b.Ob(),b.qc(5,u,4,1,"div",4),b.Pb(6,"div",2),b.Pb(7,"label",5),b.Pb(8,"b",6),b.rc(9,"Room Number"),b.Ob(),b.Ob(),b.rc(10,"\xa0\xa0\xa0 "),b.Nb(11,"input",7),b.Ob(),b.Pb(12,"div",8),b.Pb(13,"label",5),b.Pb(14,"b",6),b.rc(15,"Luxory"),b.Ob(),b.Ob(),b.rc(16,"\xa0"),b.Pb(17,"input",9),b.Xb("change",(function(t){return e.getSelected(t)})),b.Ob(),b.rc(18,"\xa0\xa0\xa0 "),b.Pb(19,"label",5),b.Pb(20,"b",6),b.rc(21,"Delux"),b.Ob(),b.Ob(),b.rc(22,"\xa0"),b.Pb(23,"input",10),b.Xb("change",(function(t){return e.getSelected(t)})),b.Ob(),b.rc(24,"\xa0\xa0\xa0 "),b.Pb(25,"label",5),b.Pb(26,"b",6),b.rc(27,"Super Delux"),b.Ob(),b.Ob(),b.rc(28,"\xa0"),b.Pb(29,"input",11),b.Xb("change",(function(t){return e.getSelected(t)})),b.Ob(),b.Ob(),b.Pb(30,"div",2),b.Nb(31,"textarea",12),b.Ob(),b.Pb(32,"div",13),b.Pb(33,"label",5),b.Pb(34,"b",6),b.rc(35,"Charges"),b.Ob(),b.Ob(),b.Nb(36,"input",14),b.Ob(),b.Pb(37,"div",2),b.Pb(38,"button",15),b.rc(39,"Add Room"),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&t&&(b.Bb(5),b.gc("ngIf",e.addImg))},directives:[c.m,c.g,c.h,o.k],styles:["input[type=number][_ngcontent-%COMP%]{width:13rem;border-radius:1%}input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:2px solid #000}.room-container[_ngcontent-%COMP%]{padding:5%}#description[_ngcontent-%COMP%]{resize:none}.price[_ngcontent-%COMP%]{display:inline-table}"]}),t})(),p=(()=>{class t{constructor(t){this.http=t}getHistory(){return this.http.get("https://roomservers.herokuapp.com/history")}}return t.\u0275fac=function(e){return new(e||t)(b.Tb(s.b))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{transform(t,e){return t&&e?t.filter(t=>t.Name.toLocaleLowerCase().includes(e.toLocaleLowerCase())):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=b.Lb({name:"searchfilter",type:t,pure:!0}),t})();function g(t,e){1&t&&(b.Pb(0,"div",14),b.Pb(1,"label",15),b.rc(2,"Start Date"),b.Ob(),b.Pb(3,"div"),b.Nb(4,"input",16),b.Ob(),b.Pb(5,"label",17),b.rc(6,"End Date"),b.Ob(),b.Pb(7,"div"),b.Nb(8,"input",16),b.Ob(),b.Ob())}function f(t,e){if(1&t&&(b.Pb(0,"div",18),b.Pb(1,"div",19),b.Pb(2,"h2",20),b.rc(3),b.Ob(),b.Pb(4,"h3",21),b.Pb(5,"label",22),b.rc(6,"RoomNo."),b.Ob(),b.rc(7),b.Ob(),b.Pb(8,"h4",23),b.Pb(9,"label",22),b.Pb(10,"b"),b.rc(11,"Phone :"),b.Ob(),b.Ob(),b.rc(12),b.Ob(),b.Pb(13,"h4",23),b.Pb(14,"label",22),b.Pb(15,"b"),b.rc(16,"Document :"),b.Ob(),b.Ob(),b.rc(17),b.Ob(),b.Pb(18,"h4",23),b.Pb(19,"label",22),b.Pb(20,"b"),b.rc(21,"Document Number:"),b.Ob(),b.Ob(),b.rc(22),b.Ob(),b.Pb(23,"h4",23),b.Pb(24,"label",22),b.Pb(25,"b"),b.rc(26,"From:"),b.Ob(),b.Ob(),b.rc(27),b.cc(28,"date"),b.Pb(29,"label",22),b.Pb(30,"b"),b.rc(31,"To"),b.Ob(),b.Ob(),b.rc(32),b.cc(33,"date"),b.Ob(),b.Pb(34,"h4",23),b.Pb(35,"label",22),b.Pb(36,"b"),b.rc(37,"Charges:"),b.Ob(),b.Ob(),b.rc(38),b.Ob(),b.Ob(),b.Ob()),2&t){const t=e.$implicit;b.Bb(3),b.sc(t.Name),b.Bb(4),b.tc("\xa0\xa0 ",t.roomNumber,""),b.Bb(5),b.tc("\xa0\xa0",t.Phone,""),b.Bb(5),b.tc("\xa0\xa0",t.documentName,""),b.Bb(5),b.tc("\xa0\xa0",t.documentNumber,""),b.Bb(5),b.tc("\xa0\xa0",b.dc(28,8,t.startDate,"dd-MM-yyyy"),"\xa0\xa0\xa0"),b.Bb(5),b.tc("\xa0\xa0\xa0",b.dc(33,11,t.endDate,"dd-MM-yyyy"),""),b.Bb(6),b.tc("\xa0\xa0",t.Amount,"")}}let O=(()=>{class t{constructor(t,e){this.router=t,this.historyservice=e,this.history=[]}ngOnInit(){this.historyservice.getHistory().subscribe(t=>{this.history=t.history,console.log(t),console.log(this.history)}),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}filter(t){this.filtervalue=t.target.value}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(n.a),b.Mb(p))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-history"]],decls:18,vars:6,consts:[[1,"History-container"],[1,"form-group","row"],[2,"margin-left","85%"],["type","radio","name","dateFilter","value","filter",3,"change"],["for","Date-filter"],["class","form-group date-filter",4,"ngIf"],[1,"form-group","row","search-container"],["for","search",1,"col-sm-2","col-form-label",2,"text-align","left","left","8rem","font-size","medium"],[1,"col-sm-6"],["type","text","id","search",1,"form-control","search",2,"align-content","center",3,"ngModel","ngModelChange"],[1,"rule",2,"width","70rem"],[1,"card-container"],[1,"row"],["class","card col-lg-12 Card",4,"ngFor","ngForOf"],[1,"form-group","date-filter"],["for","startDate"],["type","date"],["for","endDate",2,"padding-top","1%"],[1,"card","col-lg-12","Card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["for",""],[1,"card-text"]],template:function(t,e){1&t&&(b.Pb(0,"div",0),b.Nb(1,"div",1),b.Pb(2,"div",2),b.Pb(3,"div"),b.Pb(4,"input",3),b.Xb("change",(function(t){return e.filter(t)})),b.Ob(),b.Pb(5,"label",4),b.rc(6,"Filter Date"),b.Ob(),b.Ob(),b.qc(7,g,9,0,"div",5),b.Ob(),b.Pb(8,"div",6),b.Pb(9,"label",7),b.rc(10,"Search"),b.Ob(),b.Pb(11,"div",8),b.Pb(12,"input",9),b.Xb("ngModelChange",(function(t){return e.searchValue=t})),b.Ob(),b.Ob(),b.Ob(),b.Nb(13,"hr",10),b.Pb(14,"div",11),b.Pb(15,"div",12),b.qc(16,f,39,14,"div",13),b.cc(17,"searchfilter"),b.Ob(),b.Ob(),b.Ob()),2&t&&(b.Bb(7),b.gc("ngIf","filter"==e.filtervalue),b.Bb(5),b.gc("ngModel",e.searchValue),b.Bb(4),b.gc("ngForOf",b.dc(17,3,e.history,e.searchValue)))},directives:[o.k,c.a,c.f,c.i,o.j],pipes:[h,o.d],styles:[".History-container[_ngcontent-%COMP%]{padding:2%}.Card[_ngcontent-%COMP%]{margin-bottom:1%;box-shadow:5px 5px 10px rgba(0,0,0,.3)}.rule[_ngcontent-%COMP%]{border-color:#000}.search-container[_ngcontent-%COMP%]{padding-left:5%}.search[_ngcontent-%COMP%]{border-color:navy}"]}),t})();var P=r("bh5J");let v=(()=>{class t{constructor(t,e){this.router=t,this.http=e}getVacantRooms(){return this.http.get("https://roomservers.herokuapp.com/Currentbookings/booked")}makeVacant(t){return console.log("this is id",t),this.http.post("https://roomservers.herokuapp.com/currentbookings/makevacant",{id:t})}}return t.\u0275fac=function(e){return new(e||t)(b.Tb(n.a),b.Tb(s.b))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,e){if(1&t){const t=b.Qb();b.Pb(0,"div",3),b.Pb(1,"div",4),b.Pb(2,"h2",5),b.rc(3),b.Ob(),b.Pb(4,"h3",6),b.Pb(5,"label",7),b.rc(6,"RoomNo."),b.Ob(),b.rc(7),b.Ob(),b.Pb(8,"p",8),b.Pb(9,"label",7),b.Pb(10,"b"),b.rc(11,"Phone :"),b.Ob(),b.Ob(),b.rc(12),b.Ob(),b.Pb(13,"p",8),b.Pb(14,"label",7),b.Pb(15,"b"),b.rc(16,"start Date:"),b.Ob(),b.Ob(),b.rc(17),b.cc(18,"date"),b.Pb(19,"label",7),b.Pb(20,"b"),b.rc(21,"end Date:"),b.Ob(),b.Ob(),b.rc(22),b.cc(23,"date"),b.Ob(),b.Pb(24,"a",9),b.Xb("click",(function(){b.lc(t);const r=e.$implicit;return b.bc().makevacant(r.roomid)})),b.rc(25,"Vacant"),b.Ob(),b.Ob(),b.Ob()}if(2&t){const t=e.$implicit;b.Bb(3),b.sc(t.Name),b.Bb(4),b.tc("\xa0\xa0 ",t.roomNumber,""),b.Bb(5),b.tc("\xa0\xa0",t.Phone,""),b.Bb(5),b.tc("\xa0\xa0",b.dc(18,5,t.startDate,"dd-MM-yyyy"),"\xa0\xa0To \xa0\xa0 "),b.Bb(5),b.tc("\xa0\xa0",b.dc(23,8,t.endDate,"dd-MM-yyyy")," ")}}const w=[{path:"Notification",loadChildren:()=>r.e(6).then(r.bind(null,"wQq9")).then(t=>t.NotificationModule)},{path:"addRoom",component:m},{path:"History",component:O},{path:"Currentbookings",component:(()=>{class t{constructor(t,e,r){this.router=t,this.getroom=e,this.vacant=r,this.vacantrooms=[]}ngOnInit(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.vacant.getVacantRooms().subscribe(t=>{this.vacantrooms=t.vacantroom,console.log("this is vACANT room",this.vacantrooms),console.log("this is also vacant room",this.vacantrooms.vacantroom)})}makevacant(t){console.log("this is room id in front end",t),this.vacant.makeVacant(t).subscribe(),a.a.fire({title:"Make Room Vacant",text:"This will make this room vacant for further bookings. Are you sure you want to continue?",icon:"question"}),this.router.navigate(["Home/Notification"])}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(n.a),b.Mb(P.a),b.Mb(v))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-currentbookings"]],decls:3,vars:1,consts:[[1,"card-container"],[1,"row"],["class","card col-lg-12",4,"ngFor","ngForOf"],[1,"card","col-lg-12"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["for",""],[1,"card-text"],[1,"btn","btn-success",2,"position","absolute","bottom","8px","right","1rem",3,"click"]],template:function(t,e){1&t&&(b.Pb(0,"div",0),b.Pb(1,"div",1),b.qc(2,y,26,11,"div",2),b.Ob(),b.Ob()),2&t&&(b.Bb(2),b.gc("ngForOf",e.vacantrooms))},directives:[o.j],pipes:[o.d],styles:[".card-container[_ngcontent-%COMP%]{padding:3%}.card[_ngcontent-%COMP%]{padding:2%;margin-bottom:1%;box-shadow:5px 5px 10px rgba(0,0,0,.3)}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(e){return new(e||t)},imports:[[n.c.forChild(w)],n.c]}),t})(),M=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(e){return new(e||t)},imports:[[o.b,k,c.d]]}),t})()}}]);